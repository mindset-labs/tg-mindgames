// src/query/rawQuery.ts
import { fromAscii, toAscii } from "@cosmjs/encoding";
var rawQuery = async ({
  client,
  address,
  key
}) => {
  if (!client)
    return Promise.reject(new Error("No readonly client"));
  return client.queryContractRaw(address, toAscii(key)).then((response) => {
    if (!response)
      return response;
    try {
      const res = JSON.parse(fromAscii(response));
      return res;
    } catch (e) {
      console.error("Could not parse response", e, fromAscii(response));
      throw e;
    }
  });
};

export {
  rawQuery
};
